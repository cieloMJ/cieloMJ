## 가상 환경 생성 및 활성화

- 가상 환경 생성

```bash
$ python -m venv venv
```

- 가상 환경 활성화

```bash
$ source venv/Scripts/activate

# Mac/Linux에서는 명령어 다름
$ source venv/bin/activate
```

- 필요한 의존성 패키지 설치

```bash
$ pip list
```

- 의존성 관리 (현재 환경의 패키지 목록)

```bash
$ pip freeze > requirements.txt
```

- 동일한 버전의 라이브러리 설치

```bash
$ pip install -r requirements.txt
```

- 가상 환경 비활성

```bash
$ deactivate
```

## 프로젝트 생성 및 서버 실행

- Django 설치

```bash
$ pip install django
```

- 프로젝트 생성

```bash
$ django-admin startproject firstpjt .
```

- 서버 실행

```bash
$ python manage.py runserver
```

- 앱 생성

```bash
$ python manage.py startapp articles
```

## Django에서의 요청과 응답

- **URLs**

```bash
# urls.py

from django.contrib import admin
from django.urls import path
from articles import views        # articles 패키지에서 views 모듈 가져오는 것

urlpatterns = [
	path('admin/', admin.site.urls),
	path('articles/', views.index),
]
```

- **View**

```python
# 템플릿을 만들어 내는 친구임
from django.shortcuts import render
# create your views here
# 메인 페이지를 응답하는 함수
# 무조건 써야함, 쓸 지 말지는 선택권 없음
def index(request): 
	return render(request, 템플릿 경로_views.index)
	# 이 때, views.index()로 쓰면 안됨. 
	# path가 수행될 때 해당 위치로 이동해야 하는데
	# views.index()로 작성하면 그대로 호출
```

- **Template**

```python
# views.py

from django.shortcuts import render

def index(request):
	return render(request, 'articles/index.html')
```

```python
render(request, template_name, context)
```

## Model class

```python
# articles/models.py

#내장된 django 패키지 안 db 서브패키지 안 models
from django.db import models

# articles 앱의 models.py에 해당 코드 작성
class Article(models.Model):
	title = models.CharField(max_length = 10)
	content = models.TextField()

# ⇒ Article : 해당 부모 클래스의 모든 것을 가져오고, 특정 코드만 작성한 상태
```

```python
# articles/models.py

class Article(models.Model):
	title = models.CharField(max_length = 10)
	content = models.TextField()
```

```bash
**$ python manage.py makemigrations**

Migrations for 'articles':
	articles/migrations/0001_initial.py
		+ Create model Article
```

```bash
**$ python manage.py migrate**
```

**필드 추가** 

```python
# articles/models.py

class Article(models.Model):
	title = models.CharField(max_length = 10)
	content = models.TextField()
	create_at = models.DateTimeField(auto_now_add=True)
	updated_at = models.DateTimeField(auto_now=True)
```

```bash
$ python manage.py makemigrations
```

```bash
$ python manage.py migrate
```

# Admin Site

```bash
$ python [manage.py](http://manage.py) createsuperuser
```

```python
#articles/admin.py

from django.contrib import admin
from .models import Article

**admin.site.register(Article)**
```

# 참고

- Migrations 기타 명령어

```bash
$ python manage.py showmigrations
```

```bash
$ python manage.py sqlmigrate <앱이름><마이그레이션 이름>
```

- .gitignore 파일
    
    : gitignore.io에서 Django를 기술 스택으로 추가한 뒤 .gitignore 파일을 자동 생성하면 db.sqlite3 자동 포함
